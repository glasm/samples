function $$(e){return document.getElementById(e)}function $$$(e){return document.createElement(e)}var cc=$$$("canvas"),wgld=window.WebGLRenderingContext?1+(cc.getContext("webgl")?2:cc.getContext("experimental-webgl")?1:0):0;requestAnimationFrame=3!=wgld?function(e){window.setTimeout(e,40)}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};var debug=!1,JZ_TEX={},JZ_OBJ={},JZ={q:{js:{c:0,d:0,a:[]},tex:{c:0,t:"",d:0,o:{}},obj:{c:0,d:0,o:{}}},tex:{},obj:{},str:{}},JS={};JS.load=function(e){void 0!=e&&e.length>0&&(JZ.q.js.a=e,JZ.q.js.d=e.length),JS.parse()},JS.parse=function(){if(void 0!=JS.showProgress&&JS.showProgress(JZ.q.js.a.length>0?~~(100*JZ.q.js.c/JZ.q.js.d):~~(50*JZ.q.tex.c/JZ.q.tex.d+50*JZ.q.obj.c/JZ.q.obj.d)),JZ.q.js.c<JZ.q.js.d){var e=document.getElementsByTagName("head")[0],o=$$$("script");return o.type="text/javascript",o.src="js/"+JZ.q.js.a[JZ.q.js.c]+".js",o.onreadystatechange=o.onload=JS.onJSLoaded,void e.appendChild(o)}if(JZ.q.tex.c<JZ.q.tex.d)for(var t in JZ.q.tex.o)if(void 0==JZ.tex[t])return JZ.q.tex.t=t,void THREE.ImageUtils.loadTexture(JZ.q.tex.o[t],THREE.UVMapping,JS.onTexLoaded);if(JZ.q.obj.c<JZ.q.obj.d)for(var t in JZ.q.obj.o)if(void 0==JZ.obj[t])return void JC.parse(t);void 0!=JS.onComplete&&JS.onComplete(),debug&&console.log("#Load Complete"),WGL.init()},JS.onJSLoaded=function(){debug&&console.log('JS "'+JZ.q.js.a[JZ.q.js.c]+'.js" loaded'),JZ.q.js.c++,debug&&JZ.q.js.c==JZ.q.js.d&&console.log("#JS complete");for(var e in JZ_TEX)JZ.q.tex.o[e]=JZ_TEX[e],JZ.q.tex.d++;JZ_TEX={};for(var e in JZ_OBJ)JZ.q.obj.o[e]=JZ_OBJ[e],JZ.q.obj.d++;JZ_OBJ={},setTimeout(JS.parse,0)},JS.onTexLoaded=function(e){debug&&console.log('Tex "'+JZ.q.tex.t+'" loaded'),JZ.q.tex.c++,debug&&JZ.q.tex.c==JZ.q.tex.d&&console.log("#Tex complete"),e.sourceFile="",e.wrapS=e.wrapT=THREE.RepeatWrapping,JZ.tex[JZ.q.tex.t]=e,setTimeout(JS.parse,0)};var JC={dq:[35,94,1295,9024,46655,857374],d36:function(e,o){var t=e.charCodeAt(o);return t-(58>t?48:87)},d95:function(e,o){return e.charCodeAt(o)-32},dec:function(e,o,t){var o=~~((t+1)/2)*o,n=0;switch(t){case 6:n=9025*JC.d95(e,o+2);case 4:n+=95*JC.d95(e,o+1);case 2:return n+JC.d95(e,o);case 5:n=1296*JC.d36(e,o+2);case 3:n+=36*JC.d36(e,o+1);case 1:return n+JC.d36(e,o)}},parse:function(e){debug&&console.log('parsing Obj "'+e+'"');var o=JZ.q.obj.o[e];void 0!=o.ani?JC.objAni(e,o):void 0!=o.str?JC.objStr(e,o):JC.objMesh(e,o),JZ.q.obj.c++,debug&&JZ.q.obj.c==JZ.q.obj.d&&console.log("#Obj complete")}};JC.objMesh=function(e,o){for(var t=new THREE.Geometry,n=~~(o.q/10)%10,J=o.q%10,c=0,d=1/JC.dq[n-1],c=(1/JC.dq[J-1],0),r=5;r>=0;r--)c=o.fc<=JC.dq[r]?r+1:c;t.vertices.length=o.vc,t.faceVertexUvs[0].length=o.fc,t.faces.length=o.fc;var s=(o.v[1]-o.v[0])*d,a=(o.v[3]-o.v[2])*d,i=(o.v[5]-o.v[4])*d;for(q=0;q<o.vc;q++)t.vertices[q]=new THREE.Vector3(o.v[0]+JC.dec(o.v[6],q,n)*s,o.v[2]+JC.dec(o.v[7],q,n)*a,o.v[4]+JC.dec(o.v[8],q,n)*i);if(void 0!=o.s0)for(var q=0,r=0,Z=(o.s1-o.s0)/J,u=(o.t1-o.t0)/J;q<o.fc;q++,r+=3)t.faceVertexUvs[0][q]=[new THREE.Vector2(o.s0+JC.dec(o.s,r,J)*Z,o.t0+JC.dec(o.t,r,J)*u),new THREE.Vector2(o.s0+JC.dec(o.s,r+1,J)*Z,o.t0+JC.dec(o.t,r+1,J)*u),new THREE.Vector2(o.s0+JC.dec(o.s,r+2,J)*Z,o.t0+JC.dec(o.t,r+2,J)*u)];for(var q=0,r=0;q<o.fc;q++,r+=3)t.faces[q]=new THREE.Face3(JC.dec(o.f,r,c),JC.dec(o.f,r+1,c),JC.dec(o.f,r+2,c));t.computeFaceNormals(),t.computeVertexNormals(),JZ.obj[e]=t,setTimeout(JS.parse,0)},JC.objStr=function(){},JC.objAni=function(){};